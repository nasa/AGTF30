<script type="text/javascript"
     src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

<head>
    <link rel="stylesheet" href="stylesheet_TMATS.css">
</head>

<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

<title>
    T-MATS: Help for Duct (Cantera) Library Block
</title>

<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

<body>
    <h1>
      T-MATS: Duct (Cantera) Library Block
    </h1>
<hr>
<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

<div class="purpose">
        Purpose
</div>

<p>
    This block is used to simulate the performance of a duct using basic fluid
    dynamic equations and <a href="FunM_TMATSC.html">T-MATS Cantera functions</a>.

</p>
<br>
<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

<div class="background">
        Background
</div>
<p>
    To compute the output pressure, this block uses the equation below and the
    user-specified pressure loss (<i>dP</i>).

    $$Pt_{Out} = Pt_{In} * (1-dP)$$

    Other exit conditions are set according to the incoming enthalpy and exit
    pressure, using <a href="FunM_TMATSC.html">T-MATS Cantera functions</a>.
</p>
<br>
<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

<div class="instructions">
        Instructions
</div>

<p>
    To use this block:
    <ul>
        <li> Ensure that a Cantera object exists in the workspace as a global
        variable named 'fs' and contains all of the species defined in the
        file 'canteraload.m'.
        <br>
        &nbsp;&nbsp;<em>Note:</em>This can be created with the Cantera 'importPhase'
        command.
        <li> Connect the flow input to the corresponding place on the block.
        <li> Connect the outputs to the next blocks in your simulation.
        <li> Double click the block and specify the pressure loss as a fraction.
    </ul>
</p>

<br><hr><br>
<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

<div class="inputs">
        Duct (Cantera) Inputs
</div>

<table>
    <tr><th> Input </th><th>Description</th></tr>
    <tr><td>Flow In</td><td>Flow Data Input, 25x1 vector consisting of:
            <br>-1- &nbsp;&nbsp; W  &nbsp;&nbsp;    - Gas path flow [pps]
            <br>-2- &nbsp;&nbsp; s  &nbsp;&nbsp;   - Entropy [BTU/(lbm*degR)]
            <br>-3- &nbsp;&nbsp; Tt  &nbsp;&nbsp;   - Total temperature [degR]
            <br>-4- &nbsp;&nbsp; Pt &nbsp;&nbsp;    - Total pressure [psia]
            <br>-5- &nbsp;&nbsp; ht  &nbsp;&nbsp;   - Total enthlapy [BTU/lbm]
            <br>-6- &nbsp;&nbsp; rhot &nbsp;&nbsp; - Total density [lbm/ft3]
            <br>-7- &nbsp;&nbsp; gamt &nbsp;&nbsp; - Total specific heat ratio
            <br>-8- &nbsp;&nbsp; Ts  &nbsp;&nbsp;  - Static temperature [degR]
            <br>-9- &nbsp;&nbsp; Ps  &nbsp;&nbsp;  - Static pressure [psia]
            <br>-10- &nbsp;&nbsp; hs  &nbsp;&nbsp;  - Static enthalpy [BTU/lbm]
            <br>-11- &nbsp;&nbsp; rhos &nbsp;&nbsp; - Static density [lbm/ft3]
            <br>-12- &nbsp;&nbsp; gams &nbsp;&nbsp; - Static specific heat ratio
            <br>-13- &nbsp;&nbsp; Vflow &nbsp;&nbsp; - Flow velocity [ft/sec]
            <br>-14- &nbsp;&nbsp; MN &nbsp;&nbsp; - Mach number
            <br>-15- &nbsp;&nbsp; A  &nbsp;&nbsp;   - Flow area [in2]
            <br>-16to21- &nbsp;&nbsp; Species array values, defined in canteraload.m
            <br>-22to25- &nbsp;&nbsp; Future use
    </td></tr>
</table>

<br><br>
<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

<div class="outputs">
        Duct (Cantera) Outputs
</div>

<table>
    <tr><th> Output </th><th> Description </th></tr>
    <tr><td>Flow Out</td><td>Flow Data Output, 25x1 vector consisting of:
            <br>-1- &nbsp;&nbsp; W  &nbsp;&nbsp;    - Gas path flow [pps]
            <br>-2- &nbsp;&nbsp; s  &nbsp;&nbsp;   - Entropy [BTU/(lbm*degR)]
            <br>-3- &nbsp;&nbsp; Tt  &nbsp;&nbsp;   - Total temperature [degR]
            <br>-4- &nbsp;&nbsp; Pt  &nbsp;&nbsp;   - Total pressure [psia]
            <br>-5- &nbsp;&nbsp; ht &nbsp;&nbsp;    - Total enthlapy [BTU/lbm]
            <br>-6- &nbsp;&nbsp; rhot &nbsp;&nbsp; - Total density [lbm/ft3]
            <br>-7- &nbsp;&nbsp; gamt &nbsp;&nbsp; - Total specific heat ratio
            <br>-8- &nbsp;&nbsp; Ts  &nbsp;&nbsp;  - Static temperature [degR]
            <br>-9- &nbsp;&nbsp; Ps  &nbsp;&nbsp;  - Static pressure [psia]
            <br>-10- &nbsp;&nbsp; hs &nbsp;&nbsp;   - Static enthalpy [BTU/lbm]
            <br>-11- &nbsp;&nbsp; rhos &nbsp;&nbsp; - Static density [lbm/ft3]
            <br>-12- &nbsp;&nbsp; gams &nbsp;&nbsp; - Static specific heat ratio
            <br>-13- &nbsp;&nbsp; Vflow &nbsp;&nbsp; - Flow velocity [ft/sec]
            <br>-14- &nbsp;&nbsp; MN &nbsp;&nbsp;  - Mach number
            <br>-15- &nbsp;&nbsp; A   &nbsp;&nbsp;  - Flow area [in2]
            <br>-16to21- &nbsp;&nbsp; Species array values, defined in canteraload.m
            <br>-22to25- &nbsp;&nbsp; Future use
    </td></tr>
    <tr><td>D_Data</td><td>Duct additional calculation Data, 1x1 vector including:
    <br>- dP - Delta Pressure [frac lost]</td></tr>
</table>

<br><br>
<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

<div class="maskvars">
        Duct (Cantera) Mask Variables
</div>

<table>
    <tr><th> Mask Variable </th><th> Description </th></tr>
    <tr><td>dP_M</td><td>Delta Pressure [frac lost]</td></tr>
</table>


<br><hr><br>
<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

<div class = "errors">
    Potential Errors
</div>
<p>
    When using this block, an error will occur if a Cantera object does not exist
    in the workspace as a global variable named 'fs'. An error will also occur
    if this variable does not contain all of the species defined in 'canteraload.m'.
</p>
<br><br>
<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
</body>